<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Training Plan</title>
    <style>
        .plan-controls {
            text-align: center;
            margin-bottom: 2em;
            padding: 15px;
            background: #ecf0f1;
            border-radius: 5px;
        }
        .plan-controls label {
            font-weight: bold;
            margin-right: 10px;
        }
        .plan-controls input[type="number"] {
            width: 80px;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }
        .plan-controls button {
            padding: 6px 12px;
            background-color: #e74c3c;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
        .plan-controls button:hover {
            background-color: #c0392b;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background: #fff;
            color: #333;
        }
        .container {
            margin: 0;
            padding: 20px;
        }
        h1, h2, h3 {
            color: #333;
            margin-top: 1em;
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 1em;
        }
        h3 {
            border-bottom: 2px solid #e74c3c;
            padding-bottom: 10px;
            margin-top: 2em;
        }
        p {
            margin-bottom: 1em;
        }
        ul, ol {
            margin-bottom: 1em;
            padding-left: 20px;
        }
        li {
            margin-bottom: 0.5em;
        }
        hr {
            border: 0;
            height: 1px;
            background: #ccc;
            margin: 2em 0;
        }
        .table-container {
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1em;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
            min-width: 150px;
        }
        th {
            background-color: #e74c3c;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        tr:hover {
            background-color: #ddd;
        }
        strong {
            color: #c0392b;
        }
        .warmup-group, .cooldown-section {
            background: #ecf0f1;
            padding: 20px;
            border-radius: 5px;
            margin-top: 20px;
        }
        .warmup-group h3, .cooldown-section h3 {
            border-bottom: none;
            color: #2c3e50;
        }

        @media screen and (max-width: 768px) {
            .container {
                padding: 10px;
            }
            th, td {
                padding: 10px;
            }
        }

        /* Modal Styles */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.5); /* Black w/ opacity */
        }

        .modal-content {
            background-color: #fefefe;
            margin: 10% auto; /* 10% from the top and centered */
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 700px;
            border-radius: 8px;
            position: relative;
        }

        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 20px;
        }

        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        /* Make table cells clickable */
        .table-container td[data-details-file] {
            cursor: pointer;
        }
        .table-container td[data-details-file]:hover {
            background-color: #ffdddd; /* A light red hover effect */
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>

    <div class="container">
        <h1>Dynamic Training Plan</h1>

        <div class="plan-controls">
            <label for="total-weeks">Total Weeks in Plan:</label>
            <input type="number" id="total-weeks" value="7" min="7">
            <button id="generate-plan-btn">Generate Plan</button>
        </div>

        <div class="warmup-section">
            <h2 data-heading="**General Warm-Up Routine (Approx. 15-20 Minutes)**">General Warm-Up Routine (Approx. 15-20 Minutes)</h2>
            <p>The goal is to raise core body temperature, increase blood flow to muscles, activate key movement patterns, and prepare the nervous system for the specific work of the day.</p>

            <div class="warmup-group">
                <h3><strong>Group 1: Sprints & Jumps (Elementary, Secondary Sprints, Secondary LJ/TJ)</strong></h3>
                <p><em>This group needs to prepare for high-velocity, explosive movements. The focus is on dynamic mobility and neuromuscular activation.</em></p>
                <ol>
                    <li><strong>Pulse Raiser (3-5 mins):</strong>
                        <ul>
                            <li>2-3 laps of an open field at an easy jog.</li>
                            <li>Incorporate variety: Side Shuffles, Carioca, Skipping, light jogging backwards.</li>
                        </ul>
                    </li>
                    <li><strong>Dynamic Mobility (5-7 mins):</strong> (Perform each for ~10m)
                        <ul>
                            <li><strong>Leg Swings:</strong> 10x each leg (forward/backward and side-to-side).</li>
                            <li><strong>Walking Knee Hugs:</strong> Pull knee to chest, hold for a step.</li>
                            <li><strong>Walking Quad Stretch:</strong> Grab ankle and pull heel to glute.</li>
                            <li><strong>Walking Lunges with a Twist:</strong> Step into a lunge, twist torso over the front leg.</li>
                            <li><strong>Open and Close the Gate:</strong> Open the hips for more mobility.</li>
                        </ul>
                    </li>
                    <li><strong>Activation & Drills (5-7 mins):</strong> (Perform each for ~20 yards)
                        <ul>
                            <li><strong>A-March/A-Skip:</strong> Focus on posture and striking under the hips.</li>
                            <li><strong>B-Skip:</strong> Emphasizes hamstring extension and pulling action.</li>
                            <li><strong>Butt Kicks & High Knees:</strong> For turnover and frequency.</li>
                            <li><strong>Straight Leg Bounds:</strong> For hamstring readiness.</li>
                        </ul>
                    </li>
                    <li><strong>Build-Ups (2-3 mins):</strong>
                        <ul>
                            <li>3-4 x 60-80m strides on the field.</li>
                            <li>Gradually increase speed with each one: 60% -> 70% -> 80% -> 85% effort. Focus on relaxed, fast form.</li>
                        </ul>
                    </li>
                </ol>
            </div>

            <hr>

            <div class="warmup-group">
                <h3><strong>Group 2: Distance (Middle & Long Distance)</strong></h3>
                <p><em>This group needs to prepare the aerobic system while also ensuring good mechanics and mobility for efficient running.</em></p>
                <ol>
                    <li><strong>Pulse Raiser (5-10 mins):</strong>
                        <ul>
                            <li>Longer continuous jog than the sprint group (800m-1600m) at a very easy, conversational pace.</li>
                        </ul>
                    </li>
                    <li><strong>Dynamic Mobility (5 mins):</strong>
                        <ul>
                            <li>Same routine as the Sprints & Jumps group (Leg Swings, Lunges, etc.). Hip mobility is critical for running economy.</li>
                        </ul>
                    </li>
                    <li><strong>Activation & Drills (3-5 mins):</strong> (Perform each for ~30-40 yards)
                        <ul>
                            <li>A-Skips, High Knees, Butt Kicks. The focus here is less on explosive power and more on rhythm and efficient movement.</li>
                            <li>Carioca and Side Shuffles to ensure lateral hip strength.</li>
                        </ul>
                    </li>
                    <li><strong>Build-Ups (2-3 mins):</strong>
                        <ul>
                            <li>4-6 x 100m strides on a flat stretch of road or field.</li>
                            <li>Focus on feeling smooth, light, and efficient, building to about 5k race pace effort.</li>
                        </ul>
                    </li>
                </ol>
            </div>

            <hr>

            <div class="warmup-group">
                <h3><strong>Group 3: Throws</strong></h3>
                <p><em>This group needs to prepare for powerful, full-body rotational movements. The focus is on joint mobility (shoulders, hips, spine) and explosive activation.</em></p>
                <ol>
                    <li><strong>Pulse Raiser (3-5 mins):</strong>
                        <ul>
                            <li>1-2 laps easy jog, followed by skipping and light bounding.</li>
                        </ul>
                    </li>
                    <li><strong>Dynamic Mobility (7-10 mins):</strong> <em>This is the most critical part for them.</em>
                        <ul>
                            <li><strong>Arm Circles:</strong> Forward and backward, small to large.</li>
                            <li><strong>Trunk Twists:</strong> Feet planted, rotating the torso.</li>
                            <li><strong>Deep Squat Hold:</strong> Sit in a full-depth bodyweight squat to open the hips.</li>
                            <li><strong>Spiderman Lunge with T-Spine Rotation:</strong> Lunge, place hand on ground, rotate chest to the sky.</li>
                            <li><strong>Leg Swings & Hurdle Mobility:</strong> Same as other groups.</li>
                        </ul>
                    </li>
                    <li><strong>Activation & Drills (3-5 mins):</strong>
                        <ul>
                            <li><strong>Standing Long Jumps:</strong> 3-5 jumps for explosive power.</li>
                            <li><strong>Backward Jumps & Stick (T1):</strong> For deceleration strength.</li>
                            <li><strong>"Mock Throws":</strong> Use a soccer/volleyball or just their body to go through the throwing motion at 50% speed to warm up the specific pattern.</li>
                        </ul>
                    </li>
                    <li><strong>Build-Ups (1-2 mins):</strong>
                        <ul>
                            <li>2-3 x 20-30m sprints to get the full body firing.</li>
                        </ul>
                    </li>
                </ol>
            </div>
        </div>

        <hr>

        <div class="program-overview">
            <h2 data-heading="**Program Overview: Specific Drills for Field/Road Training (LJ/TJ Focus)**">Program Overview: Specific Drills for Field/Road Training (LJ/TJ Focus)</h2>
            <p><strong>Note:</strong> All drills are sourced from <code>TotalTrackandFieldTrainingWorkouts1107.pdf</code> (T1), <code>EssentialTrackandFieldDrills955.pdf</code> (E1), or <code>TotalTrackandFieldTraining1225.pdf</code> (T2).</p>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th align="left">Phase</th>
                            <th align="left">Athlete Group</th>
                            <th align="left">Day 1 Focus</th>
                            <th align="left">Day 2 Focus</th>
                            <th align="left">Day 3 Focus</th>
                            <th align="left">Day 4 Focus</th>
                            <th align="left">Day 5 Focus</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td align="left" id="phase1-gpp"><strong>P1: GPP</strong> (Wk 1-2)</td>
                            <td align="left"><strong>Elementary Sprinters</strong></td>
                            <td align="left" data-details-file="p1_elem_day1.md"><strong>Acceleration Foundation:</strong><br>• Falling Runs (T1)<br>• 3-Point Starts (no blocks)<br>• 10-20m Sprints</td>
                            <td align="left" data-details-file="p1_elem_day2.md"><strong>General Endurance:</strong><br>• Keep the Pace Drill (E1)<br>• Frame as a whistle game on a field</td>
                            <td align="left" data-details-file="p1_elem_day3.md"><strong>Max Velocity Mechanics:</strong><br>• Step Over Drill (walking) (T1)<br>• Quick Skips (linear) (T1)<br>• "Running Tall" cues</td>
                            <td align="left" data-details-file="p1_elem_day4.md"><strong>General Strength/Mobility:</strong><br>• Forward/Backward Jump & Stick (T1)<br>• Animal Walks (Bear Crawl, etc.)<br>• Pillars (T1)</td>
                            <td align="left" data-details-file="p1_elem_day5.md"><strong>Active Recovery/Skill Review:</strong><br>• Line Drills (T1)<br>• Carioca (T2)<br>• Skill-based Tag Game</td>
                        </tr>
                        <tr>
                            <td align="left"></td>
                            <td align="left"><strong>Secondary Sprint-Jump (LJ/TJ)</strong></td>
                            <td align="left" data-details-file="p1_sec_sprintjump_day1.md"><strong>Accel/Power Foundation:</strong><br>• Falling Runs (T1)<br>• Bounding (T1)<br>• Tuck Jumps (low volume) (T1)</td>
                            <td align="left" data-details-file="p1_sec_sprintjump_day2.md"><strong>Aerobic Base/Tempo:</strong><br>• Speed Endurance Drill (E1)<br>(e.g., 2x80, 2x100m @ 75%)</td>
                            <td align="left" data-details-file="p1_sec_sprintjump_day3.md"><strong>Technical Skill 1 (Approach):</strong><br>• Rhythm High Knees Drill (E1)<br>• Approach & Thrust Drill (E1)</td>
                            <td align="left" data-details-file="p1_sec_sprintjump_day4.md"><strong>General Strength/Mobility:</strong><br>• Bodyweight Circuit: Squats, Lunges<br>• Core: V-Sits, Supermans (T1)</td>
                            <td align="left" data-details-file="p1_sec_sprintjump_day5.md"><strong>Active Recovery/Skill 2 (Sprints):</strong><br>• A-March Drill (E1)<br>• Step Over Drill (jogging) (T1)<br>• Drop Skip (T1)</td>
                        </tr>
                        <tr>
                            <td align="left"></td>
                            <td align="left"><strong>Secondary Sprinters</strong></td>
                            <td align="left" data-details-file="p1_sec_sprint_day1.md"><strong>Acceleration Foundation:</strong><br>• Falling Runs (T1)<br>• Let Go's (partner resisted) (T1)</td>
                            <td align="left" data-details-file="p1_sec_sprint_day2.md"><strong>General Endurance/Tempo:</strong><br>• Speed Endurance Drill (E1)<br>(8-10x150m @ 65% on field)</td>
                            <td align="left" data-details-file="p1_sec_sprint_day3.md"><strong>Max Velocity Mechanics:</strong><br>• Burst and Relax Drill (E1)<br>(20m sprint/20m float/20m sprint)</td>
                            <td align="left" data-details-file="p1_sec_sprint_day4.md"><strong>General Strength/Mobility:</strong><br>• Plyo: Lateral Jump & Stick (T1)<br>• Core: Full Circuit (Pillars, V-Sits)</td>
                            <td align="left" data-details-file="p1_sec_sprint_day5.md"><strong>Active Recovery/Drill Refine:</strong><br>• A-March Drill (E1)<br>• Carioca (T2)<br>• Hurdle mobility (no hurdles)</td>
                        </tr>
                        <tr>
                            <td align="left"></td>
                            <td align="left"><strong>Secondary Mid-Distance</strong></td>
                            <td align="left" data-details-file="p1_sec_middist_day1.md"><strong>Aerobic Base:</strong><br>• 20-30 min easy run on road/field</td>
                            <td align="left" data-details-file="p1_sec_middist_day2.md"><strong>Speed Dev & Hills:</strong><br>• Short Hill Sprints (10-15 sec)<br>• Full recovery walk down</td>
                            <td align="left" data-details-file="p1_sec_middist_day3.md"><strong>Aerobic Power:</strong><br>• Flying Bears Drill (E1)<br>(100m strong/50m jog repeats)</td>
                            <td align="left" data-details-file="p1_sec_middist_day4.md"><strong>General Strength & Core:</strong><br>• Bodyweight Circuit: Squats, Lunges<br>• Pillars, Side Pillars, Leg Lifts (T2)</td>
                            <td align="left" data-details-file="p1_sec_middist_day5.md"><strong>Active Recovery & Form:</strong><br>• Easy run<br>• Fast Leg Run drill (T1)</td>
                        </tr>
                        <tr>
                            <td align="left"></td>
                            <td align="left"><strong>Secondary Long-Distance</strong></td>
                            <td align="left" data-details-file="p1_sec_longdist_day1.md"><strong>Aerobic Base:</strong><br>• 25-35 min easy run on road/field</td>
                            <td align="left" data-details-file="p1_sec_longdist_day2.md"><strong>Running Economy & Hills:</strong><br>• Cross Country Run Drill (E1)<br>(Find a hilly route)</td>
                            <td align="left" data-details-file="p1_sec_longdist_day3.md"><strong>Aerobic Threshold:</strong><br>• Keep the Pace Drill (E1)<br>(Run continuously for 20 min)</td>
                            <td align="left" data-details-file="p1_sec_longdist_day4.md"><strong>General Strength/Mobility:</strong><br>• Bodyweight Circuit<br>• Balance Pick Up Game (T2)</td>
                            <td align="left" data-details-file="p1_sec_longdist_day5.md"><strong>Long Run Foundation:</strong><br>• 40-50 min long, slow run</td>
                        </tr>
                        <tr>
                            <td align="left"></td>
                            <td align="left"><strong>Secondary Throwers</strong></td>
                            <td align="left" data-details-file="p1_sec_throw_day1.md"><strong>Foundational Strength (Bodywt):</strong><br>• Tuck Jumps (T1)<br>• Push-ups<br>• Bodyweight Squats</td>
                            <td align="left" data-details-file="p1_sec_throw_day2.md"><strong>Rotational Power & Drills:</strong><br>• Bowling Release Drill (E1)<br>• Standing Release Drill (E1)</td>
                            <td align="left" data-details-file="p1_sec_throw_day3.md"><strong>Full Throw Technique:</strong><br>• Pivoting Drill (no discus first) (E1)<br>• Left Leg Start Drill (E1)</td>
                            <td align="left" data-details-file="p1_sec_throw_day4.md"><strong>Strength & Mobility:</strong><br>• Backward Jump & Stick (T1)<br>• Supermans (for back strength) (T1)</td>
                            <td align="left" data-details-file="p1_sec_throw_day5.md"><strong>Active Recovery/Coordination:</strong><br>• Overhead Basketball Throw (E1) (use soccer/volleyball)<br>• Stretching</td>
                        </tr>
                        <tr>
                            <td align="left" id="phase2-spp"><strong>P2: SPP</strong> (Wk 3-5)</td>
                            <td align="left"><strong>Elementary Sprinters</strong></td>
                            <td align="left" data-details-file="p2_elem_day1.md"><strong>Acceleration Development:</strong><br>• 3-Point Starts to 20m<br>• Get Ups (from push-up pos.) (T1)</td>
                            <td align="left" data-details-file="p2_elem_day2.md"><strong>Speed Endurance Foundation:</strong><br>• "Cut-Down" Sprints on field<br>(e.g., 80m-60m-40m)</td>
                            <td align="left" data-details-file="p2_elem_day3.md"><strong>Max Velocity Application:</strong><br>• Burst and Relax Drill (E1)<br>(15m sprint/15m float/15m sprint)</td>
                            <td align="left" data-details-file="p2_elem_day4.md"><strong>Intro to Plyos/Power:</strong><br>• Standing Long Jumps<br>• Line Drills (lateral & F/B) (T1)</td>
                            <td align="left" data-details-file="p2_elem_day5.md"><strong>Pre-Meet Simulation:</strong><br>• Mock meet on field<br>(40m dash, SLJ)</td>
                        </tr>
                        <tr>
                            <td align="left"></td>
                            <td align="left"><strong>Secondary Sprint-Jump (LJ/TJ)</strong></td>
                            <td align="left" data-details-file="p2_sec_sprintjump_day1.md"><strong>Max Velocity & Power:</strong><br>• Increase Acceleration Drill (E1)<br>• Box Drops (on ledge/bench) (T1)</td>
                            <td align="left" data-details-file="p2_sec_sprintjump_day2.md"><strong>Speed Endurance:</strong><br>• Interval Sprints Drill (E1)<br>(e.g., 3-4x200m @ 85%)</td>
                            <td align="left" data-details-file="p2_sec_sprintjump_day3.md"><strong>Event-Specific Tech (Jumps):</strong><br>• <strong>LJ Day:</strong> Heel Pops, In-Flight Cycle (E1)<br>• <strong>TJ Day:</strong> Multiple Cone Hops (E1)</td>
                            <td align="left" data-details-file="p2_sec_sprintjump_day4.md"><strong>Event-Specific Strength:</strong><br>• Depth Jumps (from low box) (T1)<br>• Quarter Eagles (T2)</td>
                            <td align="left" data-details-file="p2_sec_sprintjump_day5.md"><strong>Event-Specific Tech (Sprints):</strong><br>• Block Start Intervals (from 3-pt) (E1)<br>• 10m, 20m, 30m starts</td>
                        </tr>
                        <tr>
                            <td align="left"></td>
                            <td align="left"><strong>Secondary Sprinters</strong></td>
                            <td align="left" data-details-file="p2_sec_sprint_day1.md"><strong>Acceleration & Power:</strong><br>• Block Start Intervals (3-pt) (E1)<br>• Partner Resisted Runs (T2)</td>
                            <td align="left" data-details-file="p2_sec_sprint_day2.md"><strong>Speed Endurance/Lactate:</strong><br>• Interval Sprints Drill (E1)<br>(Reps of 150m-300m @ >85%)</td>
                            <td align="left" data-details-file="p2_sec_sprint_day3.md"><strong>Maximum Velocity:</strong><br>• Increase Acceleration Drill (E1)<br>(Focus on last 50m of a 100m)</td>
                            <td align="left" data-details-file="p2_sec_sprint_day4.md"><strong>Event-Specific Strength:</strong><br>• Plyo: Bounding, Tuck Jumps (T1)<br>• Core: Slams (no ball, just motion) (T2)</td>
                            <td align="left" data-details-file="p2_sec_sprint_day5.md"><strong>Active Recovery & Shakeout:</strong><br>• Light jogging<br>• Linear & Lateral Skips (T2)</td>
                        </tr>
                        <tr>
                            <td align="left"></td>
                            <td align="left"><strong>Secondary Mid-Distance</strong></td>
                            <td align="left" data-details-file="p2_sec_middist_day1.md"><strong>Aerobic Support:</strong><br>• Moderate run (25-30 min)</td>
                            <td align="left" data-details-file="p2_sec_middist_day2.md"><strong>Race Pace / VO2 Max:</strong><br>• 3 Event Running Drill (E1)<br>(Sprint/Stride/Sprint over 400m)</td>
                            <td align="left" data-details-file="p2_sec_middist_day3.md"><strong>Lactate Tolerance:</strong><br>• Same Time Drill (E1)<br>(Run 40m, 50m, 60m in same time)</td>
                            <td align="left" data-details-file="p2_sec_middist_day4.md"><strong>Strength & Power:</strong><br>• Obstacle Jumps (over cones) (T1)<br>• Linear Run & Stick (T2)</td>
                            <td align="left" data-details-file="p2_sec_middist_day5.md"><strong>Active Recovery & Strides:</strong><br>• Easy run + 4-6x strides on field</td>
                        </tr>
                        <tr>
                            <td align="left"></td>
                            <td align="left"><strong>Secondary Long-Distance</strong></td>
                            <td align="left" data-details-file="p2_sec_longdist_day1.md"><strong>Aerobic Support:</strong><br>• Moderate run (30-40 min)</td>
                            <td align="left" data-details-file="p2_sec_longdist_day2.md"><strong>Lactate Threshold:</strong><br>• Tempo Run on road (20-25 min)</td>
                            <td align="left" data-details-file="p2_sec_longdist_day3.md"><strong>VO2 Max Intervals:</strong><br>• Interval Sprints Drill (E1)<br>(e.g., 4-5 x 800m @ hard effort)</td>
                            <td align="left" data-details-file="p2_sec_longdist_day4.md"><strong>Active Recovery & Drills:</strong><br>• Very easy run or cross-train</td>
                            <td align="left" data-details-file="p2_sec_longdist_day5.md"><strong>Long Run with Quality:</strong><br>• Long run w/ last 10 min @ tempo pace</td>
                        </tr>
                        <tr>
                            <td align="left"></td>
                            <td align="left"><strong>Secondary Throwers</strong></td>
                            <td align="left" data-details-file="p2_sec_throw_day1.md"><strong>Explosive Strength:</strong><br>• Depth Jumps (low box) (T1)<br>• Bounding for distance (T1)</td>
                            <td align="left" data-details-file="p2_sec_throw_day2.md"><strong>Event-Specific Power:</strong><br>• Standing Javelin Throw (E1) (use stick)<br>• Obstacle Release Drill (E1) (use cone)</td>
                            <td align="left" data-details-file="p2_sec_throw_day3.md"><strong>High-Intensity Throws:</strong><br>• Full throws on field (if safe)<br>• OR 5 Step Approach Drill (E1)</td>
                            <td align="left" data-details-file="p2_sec_throw_day4.md"><strong>Max Strength & Core:</strong><br>• One-leg Jumps (T2)<br>• Core Rotation (no ball) (T2)</td>
                            <td align="left" data-details-file="p2_sec_throw_day5.md"><strong>Recovery & Technical Refine:</strong><br>• Drills (Pivoting, etc.)<br>• Stretching, visualization</td>
                        </tr>
                        <tr>
                            <td align="left" id="phase3-comp"><strong>P3: Competition</strong> (Wk 6-7)</td>
                            <td align="left"><strong>All Groups (Secondary)</strong></td>
                            <td align="left" data-details-file="p3_sec_day1.md"><strong>Race Simulation/Tune-Up:</strong><br>• <strong>Sprints:</strong> 2-3 x 40m @ 95% from 3-pt start<br>• <strong>Jumps:</strong> 3-4 full approaches on runway<br>• <strong>Mid-D:</strong> 2 x 200m @ goal race pace<br>• <strong>Long-D:</strong> 2-3 x 800m @ goal pace<br>• <strong>Throwers:</strong> 4-5 high-quality throws</td>
                            <td align="left" data-details-file="p3_sec_day2.md"><strong>Full Recovery:</strong><br>• Off day or very light walk and stretch</td>
                            <td align="left" data-details-file="p3_sec_day3.md"><strong>CNS Priming/Sharpening:</strong><br>• Abbreviated warm-up<br>• 2-3 very short, fast efforts (e.g., 20m sprints, a few takeoffs into pit)</td>
                            <td align="left" data-details-file="p3_sec_day4.md"><strong>Pre-Meet Shakeout:</strong><br>• Light jog<br>• 2-3 key drills<br>• 2-4 strides</td>
                            <td align="left" data-details-file="p3_sec_day5.md"><strong>Competition Day</strong></td>
                        </tr>
                        <tr>
                            <td align="left"></td>
                            <td align="left"><strong>Elementary Sprinters</strong></td>
                            <td align="left" data-details-file="p3_elem_day1.md"><strong>Race Rehearsal:</strong><br>• 2-3 x 30m Sprints<br>• Focus on perfect form</td>
                            <td align="left" data-details-file="p3_elem_day2.md"><strong>Full Recovery:</strong><br>• Off day or light walk</td>
                            <td align="left" data-details-file="p3_elem_day3.md"><strong>Neurological Priming:</strong><br>• Short warm-up<br>• 2 x 20m run-ins, feel bouncy</td>
                            <td align="left" data-details-file="p3_elem_day4.md"><strong>Pre-Meet Shakeout:</strong><br>• Light jog, review "meet" rules</td>
                            <td align="left" data-details-file="p3_elem_day5.md"><strong>Competition Day:</strong><br>• Fun Meet on Field</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <hr>

        <div class="cooldown-section">
            <h2 data-heading="**General Cool-Down Routine (Approx. 10-15 Minutes)**">General Cool-Down Routine (Approx. 10-15 Minutes)</h2>
            <p>The goal is to gradually lower the heart rate, clear metabolic waste products, and improve flexibility by stretching warm muscles. This is largely the same for all groups, with specific stretches emphasized.</p>
            <ol>
                <li><strong>Light Aerobic Activity (3-5 mins):</strong>
                    <ul>
                        <li>1-2 laps of very slow jogging, followed by walking. This helps the body transition from a state of work to rest.</li>
                    </ul>
                </li>
                <li><strong>Static Stretching (7-10 mins):</strong>
                    <ul>
                        <li>Hold each stretch for <strong>20-30 seconds</strong>. Breathing should be deep and relaxed. <strong>Never stretch to the point of pain.</strong></li>
                        <li><strong>All Groups:</strong>
                            <ul>
                                <li>Hamstring Stretch (seated or standing)</li>
                                <li>Quad Stretch (standing or lying)</li>
                                <li>Calf Stretch (against a wall or post)</li>
                                <li>Glute/Piriformis Stretch (Pigeon Pose or Figure-4)</li>
                                <li>Hip Flexor Stretch (Kneeling Lunge)</li>
                            </ul>
                        </li>
                        <li><strong>Throwers - Additional Focus:</strong>
                            <ul>
                                <li>Chest/Pec Stretch (in a doorway or holding hands behind back)</li>
                                <li>Shoulder/Triceps Stretch (across the body and overhead)</li>
                                <li>Lat Stretch (reaching overhead and to the side)</li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ol>
            <p>This provides a solid, evidence-based framework for our warm-ups and cool-downs, Coach. We can adjust the time and specific exercises based on the main workout of the day and how the athletes are feeling.</p>
        </div>
    </div>

    <!-- The Modal -->
    <div id="details-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <div id="modal-body-content"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const totalWeeksInput = document.getElementById('total-weeks');
            const generatePlanBtn = document.getElementById('generate-plan-btn');
            const phase1Cell = document.getElementById('phase1-gpp');
            const phase2Cell = document.getElementById('phase2-spp');
            const phase3Cell = document.getElementById('phase3-comp');

            const calculateAndDisplayPlan = () => {
                const totalWeeks = parseInt(totalWeeksInput.value, 10);
                if (isNaN(totalWeeks) || totalWeeks < 7) {
                    alert("Please enter a number of 7 or greater for the total weeks.");
                    return;
                }

                // New logic based on periodization principles
                const p3_duration = Math.min(2, Math.round(totalWeeks * 0.25)); // Cap competition phase at 2 weeks or 25% for shorter plans
                const preparatoryPeriod = totalWeeks - p3_duration;
                const p1_duration = Math.round(preparatoryPeriod * 0.4);
                const p2_duration = preparatoryPeriod - p1_duration;

                const p1_end = p1_duration;
                const p2_start = p1_end + 1;
                const p2_end = p2_start + p2_duration - 1;
                const p3_start = p2_end + 1;
                const p3_end = totalWeeks;

                phase1Cell.innerHTML = `<strong>P1: GPP</strong> (Wk 1-${p1_end})`;
                phase2Cell.innerHTML = `<strong>P2: SPP</strong> (Wk ${p2_start}-${p2_end})`;
                phase3Cell.innerHTML = `<strong>P3: Competition</strong> (Wk ${p3_start}-${p3_end})`;
            };

            generatePlanBtn.addEventListener('click', calculateAndDisplayPlan);
            // Initial calculation on page load
            calculateAndDisplayPlan();

            const modal = document.getElementById('details-modal');
            const modalBody = document.getElementById('modal-body-content');
            const closeButton = document.querySelector('.close-button');
            const tableContainer = document.querySelector('.table-container');

            // Function to open the modal and fetch content
            const openModal = (cell) => {
                const fileName = cell.getAttribute('data-details-file');
                if (!fileName) return;

                const filePath = `details-v2/${fileName}`;

                fetch(filePath)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        return response.text();
                    })
                    .then(markdown => {
                        modalBody.innerHTML = marked.parse(markdown);
                        modal.style.display = 'block';
                    })
                    .catch(error => {
                        console.error('Error fetching details:', error);
                        modalBody.innerHTML = `<p>Could not load details. Please ensure the file <code>${filePath}</code> exists.</p>`;
                        modal.style.display = 'block';
                    });
            };

            // Function to close the modal
            const closeModal = () => {
                modal.style.display = 'none';
                modalBody.innerHTML = ''; // Clear content
            };

            // Event listener for table clicks
            if (tableContainer) {
                tableContainer.addEventListener('click', function (event) {
                    const targetCell = event.target.closest('td');
                    if (targetCell && targetCell.hasAttribute('data-details-file')) {
                        openModal(targetCell);
                    }
                });
            }

            // Event listener for the close button
            if (closeButton) {
                closeButton.addEventListener('click', closeModal);
            }

            // Event listener to close modal when clicking outside of it
            window.addEventListener('click', function (event) {
                if (event.target === modal) {
                    closeModal();
                }
            });
        });
    </script>
    <div style="text-align: center; margin-top: 2em;">
        <a href="index.html">Switch to Established Plan (v1)</a>
    </div>
</body>
</html>
